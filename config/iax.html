<!--
 * Asterisk -- An open source telephony toolkit.
 *
 * Configuration for "Users" generally
 *
 * Copyright (C) 1999 - 2006, Digium, Inc.
 *
 * Mark Spencer <markster@digium.com>
 *
 * See http://www.asterisk.org for more information about
 * the Asterisk project. Please do not directly contact
 * any of the maintainers of this project for assistance;
 * the project provides a web site, mailing lists and IRC
 * channels for your use.
 *
 * This program is free software, distributed under the terms of
 * the GNU General Public License Version 2. See the LICENSE file
 * at the top of the source tree.
 *
-->
<script src="scripts/prototype.js"></script>
<script src="scripts/rico.js"></script>
<script src="scripts/astman.js"></script>
<script src="scripts/tooltip.js"></script>
<link href="stylesheets/rico.css" media="all" rel="Stylesheet" type="text/css" />
<link href="stylesheets/schwing.css" media="all" rel="Stylesheet" type="text/css" />
<script>
var phonecallbacks = new Object;
var widgets = new Array;
var fieldnames = new Array('status', 'save', 'cancel', 'bindport', 'bindaddr', 'iaxcompat', 'nochecksums', 'delayreject', 'amaflags', 'adsi', 'accountcode', 'language', 'mohinterpret', 'mohsuggest', 'bandwidth','jitterbuffer', 'forcejitterbuffer', 'dropcount', 'maxjitterbuffer', 'maxjitterinterps', 'resyncthreshold', 'maxexcessbuffer', 'minexcessbuffer', 'jittershrinkrate', 'trunkfreq', 'trunktimestamps', 'minregexpire', 'maxregexpire', 'iaxthreadcount', 'iaxmaxthreadcount' , 'register', 'authdebug', 'tos', 'regcontext', 'autokill', 'codecpriority', 'rtcachefriends', 'rtupdate', 'rtautoclear', 'rtignoreexpire');


phonecallbacks.format = function(t) {
		if(t.name.match('general'))
			return t.name;
		else
			return false;
}


phonecallbacks.postselect = function(box, val) {

}



phonecallbacks.loaded = function() {
		$('hiddenfield').selectitem(0);
}



function localajaxinit(){
	parent.loadscreen(this);
		for (var x in fieldnames) {
			widgets[fieldnames[x]] = $(fieldnames[x]);
			widgets[fieldnames[x]].disabled = true;
		}
	parent.astmanEngine.config2list("iax.conf", $('hiddenfield'), widgets, phonecallbacks);
	return;
}

</script>
<body id="foo" onload="localajaxinit()">
<div class="mainscreenTitleBar">
	<span style="margin-left: 4px;font-weight:bold">IAX (Inter Asterisk Exchange Protocol) Configuration </span>
</div>

<div class="mainscreenContentBox" id="userscontent">
<div  style="height :75%;width :100%; overflow :auto;">
<table class="mainscreenTable" align="center" width="100%" cellpadding=3 cellspacing=0>
		<tr><td align=right colspan=2>&nbsp;</td></tr>
		<tr><td align=right>Bind Port:</td>
				<td>&nbsp;<input type='text' size=4 id='bindport' pattern='^\d*$'></td>
		</tr>

		<tr><td align=right>Bind Address:</td>
				<td>&nbsp;<input type='text' size=14 id='bindaddr'></td>
		</tr>

		<tr><td align=right>IAX1 Compatibility:</td>
				<td><input type='checkbox' id='iaxcompat'></td>
		</tr>

		<tr><td align=right>No Checksums:</td>
				<td><input type='checkbox' id='nochecksums'></td>
		</tr>

		<tr><td align=right>Delay Reject:</td>
				<td><input type='checkbox' id='delayreject'></td>
		</tr>

	
		<tr><td align=right>ADSI:</td>
				<td><input type='checkbox' id='adsi'></td>
		</tr>

		<tr><td colspan=2><B>Call Detail Records</B></td></tr>
		<tr><td align=right>AMA Flags:</td>
				<td>&nbsp;<input type='text' size=14 id='amaflags'></td>
		</tr>

		<tr><td align=right>Accountcode:</td>
				<td>&nbsp;<input type='text' size=14 id='accountcode'></td>
		</tr>
		
		<tr><td align=right>Music On Hold Interpret:</td>
				<td>&nbsp;<input type='text' size=14 id='mohinterpret'></td>
		</tr>
		
		<tr><td align=right>Music On Hold Suggest:</td>
				<td>&nbsp;<input type='text' size=14 id='mohsuggest'></td>
		</tr>
		
		<tr><td align=right>Language:</td>
				<td>&nbsp;<input type='text' size=3 dfalt='en' id='language'></td>
		</tr>
		
		<tr><td align=right>Bandwidth:</td>
				<td>&nbsp;<select id="bandwidth">
					<option value="low">low</option>
					<option value="medium">medium</option>
					<option value="high">high</option>
				</select>
				</td>
		</tr>
		
		<tr><td colspan=2><B>Jitter Buffer</B></td></tr>

		<tr><td align=right>Enable Jitter Buffer:</td>
				<td><input type='checkbox' id='jitterbuffer'></td>
		</tr>
		
		<tr><td align=right>Force Jitter Buffer:</td>
				<td><input type='checkbox' id='forcejitterbuffer'></td>
		</tr>
		
		<tr><td align=right>Drop Count:</td>
				<td>&nbsp;<input type='text' size=4 id='dropcount' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Max Jitter Buffer:</td>
				<td>&nbsp;<input type='text' size=4 id='maxjitterbuffer' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Max Interpolation Frames:</td>
				<td>&nbsp;<input type='text' size=4 id='maxjitterinterps' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Resync Threshold:</td>
				<td>&nbsp;<input type='text' size=4 id='resyncthreshold' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Max Excess Buffer:</td>
				<td>&nbsp;<input type='text' size=4 id='maxexcessbuffer' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Min Excess Buffer:</td>
				<td>&nbsp;<input type='text' size=4 id='minexcessbuffer' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Jitter Shrink Rate:</td>
				<td>&nbsp;<input type='text' size=4 id='jittershrinkrate' pattern='^\d*$'></td>
		</tr>
		

<!-- Done with Jitter Buffer -->
		<tr><td colspan=2><B>IAX Trunking Options</B></td></tr>
		<tr><td align=right>Trunk Freq:</td>
				<td>&nbsp;<input type='text' size=4 id='trunkfreq' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Trunk Time Stamps:</td>
				<td><input type='checkbox' id='trunktimestamps'></td>
		</tr>

		
		<tr><td colspan=2><B>IAX Registration Options</B></td></tr>
		<tr><td align=right>Min Reg Expire:</td>
				<td>&nbsp;<input type='text' size=4 id='minregexpire' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Max Reg Expire:</td>
				<td>&nbsp;<input type='text' size=4 id='maxregexpire' pattern='^\d*$'></td>
		</tr>
		

		<tr><td align=right>IAX ThreadCount:</td>
				<td>&nbsp;<input type='text' size=4 id='iaxthreadcount' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>IAX Max ThreadCount:</td>
				<td>&nbsp;<input type='text' size=4 id='iaxmaxthreadcount' pattern='^\d*$'></td>
		</tr>
		
		<tr><td align=right>Register:</td>
				<td>&nbsp;<input type='text' size=12 id='register'></td>
		</tr>

		<tr><td align=right>Reg Context:</td>
				<td>&nbsp;<input type='text' size=12 id='regcontext'></td>
		</tr>
		
		<tr><td align=right>Auto Kill:</td>
				<td>&nbsp;<input size=3 type='text' id='autokill'></td>
		</tr>
		
		<tr><td align=right><NOBR>Authentication Debugging:</NOBR></td>
				<td><input type='checkbox' id='authdebug'></td>
		</tr>
		
		<tr><td align=right>Codec Priority:</td>
				<td>&nbsp;<select id="codecpriority">
					<option value="caller">caller</option>
					<option value="host">host</option>
					<option value="disabled">disabled</option>
					<option value="reqonly">reqonly</option>
				</select>
				</td>
		</tr>
		
		<tr><td align=right>Type of Service:</td>
				<td>&nbsp;<select size=1 id="tos">
							<option value='ef'>ef</option>
							<option value='CS0'>CS0</option>
							<option value='CS1'>CS1</option>
							<option value='CS2'>CS2</option>
							<option value='CS3'>CS3</option>
							<option value='CS4'>CS4</option>
							<option value='CS5'>CS5</option>
							<option value='CS6'>CS6</option>
							<option value='CS7'>CS7</option>
							<option value='AF11'>AF11</option>
							<option value='AF12'>AF12</option>
							<option value='AF13'>AF13</option>
							<option value='AF21'>AF21</option>
							<option value='AF22'>AF22</option>
							<option value='AF23'>AF23</option>
							<option value='AF31'>AF31</option>
							<option value='AF32'>AF32</option>
							<option value='AF33'>AF33</option>
							<option value='AF41'>AF41</option>
							<option value='AF42'>AF42</option>
							<option value='AF43'>AF43</option>
						</select>
				</td>
		</tr>

		<tr><td colspan=2><B>Realtime IAX Options</B></td></tr>
		<tr><td align=right>Cache Friends:</td>
				<td><input type='checkbox' id='rtcachefriends'></td>
		</tr>

		<tr><td align=right>Send Registry Updates:</td>
				<td><input type='checkbox' id='rtupdate'></td>
		</tr>

		<tr><td align=right>Auto-Expire Friends:</td>
				<td><input type='checkbox' id='rtautoclear'></td>
		</tr>
		
		<tr><td align=right>Ignore Expired Peers:</td>
				<td><input type='checkbox' id='rtignoreexpire'></td>
		</tr>

		</table>
	</div>
<HR>
	<table align="center">
	<tr><td colspan=2 align=center height=20><div  id='status'></div></td></tr>
	<tr><td colspan=2 align=center><input style='width:80' type='button' id='save' value='Save'>&nbsp;<input style='width:80' type='button' id='cancel' value='Cancel'></td></tr>
	</table>
</div>
<div style='visibility:hidden;overflow:hidden;width:0px;height:0px'><select  size="5" id="hiddenfield" style="width:220px"></select></div>
<div id='tooltip' style="margin-left:5px;height: 60px; width:575px; overflow :auto; font-family : Trebuchet MS, Arial, Helvetica, sans-serif;font-size: 11px; "></div>
</body>